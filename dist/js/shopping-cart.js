(()=>{document.querySelector("#add-to-cart-btn");const t=document.querySelector(".product-feature");document.getElementById("increase-btn");let e,n=document.getElementById("decrease-btn"),r=1,c=document.querySelector(".cart-items-flex-group");const a=document.querySelector("#cart-notification"),o=document.querySelector("#cart-total-price"),u=document.querySelector("#remove-all-items");document.querySelector("#cart-modal"),document.querySelector("#shopping-cart-link"),document.querySelector("#mobile-menu-btn");function l(t){let e={id:r,imgSrc:t.querySelector(".product-feature-img").getAttribute("src"),productName:t.querySelector("#xx-99-mark-two-heading").textContent,productPrice:t.querySelector(".product-price").textContent.replace(/\D/g,""),productQuantity:t.querySelector("#number-box").value};e.trueProductPrice=e.productPrice*e.productQuantity,r++,s(e),function(t){let e=p();e.push(t),localStorage.setItem("products",JSON.stringify(e)),d()}(e)}function d(){let t=m();""!==t.productCount&&null!==t.productCount&&(g(),o.textContent=t.total)}function s(t){const e=document.createElement("span");e.setAttribute("data-id",`${t.id}`),e.classList.add("cart-item-flex"),e.innerHTML=`<section class="cart-item-flex"><img class="cart-item-img" src="${t.imgSrc}" alt="product cart image" srcset="">\n  <section class="cart-item-name-and-price">\n    <h3 class="cart-item-name">${t.productName}</h3>\n    <p class="cart-item-price">$${t.productPrice}</p>\n  </section>\n  <form type="post" class=" cart-counter-btn-container">\n    <button type="button" id="cart-decrease-btn" class="cart-decrease-btn cart-in-and-de-btn" data-decrease>-</button>\n    <input id='cart-number-input' class='cart-number-box' data-value type="text" value="${t.productQuantity}"/>\n    <button type="button" id="cart-increase-btn" class="cart-increase-btn cart-in-and-de-btn" data-increase>+</button>\n  </form>\n  </section>`,c.appendChild(e)}function p(){return localStorage.getItem("products")?JSON.parse(localStorage.getItem("products")):[]}function m(){let t=p();return{total:t.map((t=>t.trueProductPrice)).reduce(((t,e)=>t+e),0),productCount:t.length}}function g(){const t=document.getElementsByClassName("cart-number-box");let e=0;for(let n=0;n<t.length;n++)parseInt(t[n].value)&&(e+=parseInt(t[n].value),console.log(e),a.textContent=e)}!function(){let t=p();if(console.log(t),t.length<1)return void(r=1);r=t[t.length-1].id,r++;t.forEach((t=>s(t))),d()}(),document.addEventListener("click",(function(e){e.target&&"add-to-cart-btn"==e.target.id&&(l(t),alert("Your item has been added to shopping cart"))})),u.addEventListener("click",(function(t){let e=document.querySelectorAll(".cart-item-flex");if("remove-all-items"===t.target.id){for(i=0;i<e.length;i++)e[i].remove();r=1,localStorage.removeItem("products")}let n=p().filter((t=>t.id!==parseInt(cartItem.dataset.id)));localStorage.setItem("products",JSON.stringify(n)),d()})),document.addEventListener("click",(function(t){return t.target.classList.contains("cart-decrease-btn")&&t.target.nextElementSibling.value>1?(console.log(t.target.nextElementSibling.value),t.preventDefault(),t.target.disabled=!1,function(t){let e=JSON.parse(localStorage.getItem("products")),n=m(),r=(document.querySelector("#cart-number-input"),t.target.parentElement.parentElement.parentElement.getAttribute("data-id")),c=e.map((t=>t.id)).find((t=>t==r))-1,u=parseInt(o.textContent),i=(parseInt(a.textContent),u-parseInt(e[c].productPrice)),l=parseInt(e[c].productQuantity)-1;e[c].trueProductPrice=i,e[c].productQuantity=l,Object.assign(e[c],{trueProductPrice:e[c].productPrice*e[c].productQuantity,productQuantity:l}),localStorage.setItem("products",JSON.stringify(e)),console.log(parseInt(e[c].productPrice)),console.table(e),o.textContent=i,function(){document.getElementsByClassName("cart-number-box");a.textContent=parseInt(a.textContent)-1,console.log(a.textContent)}(),console.log(n),console.log(l)}(t),void t.target.nextElementSibling.value):(t.target=n&&1===e)?(t.preventDefault(),void(t.target.disabled=!0)):void 0})),document.addEventListener("click",(function(t){t.target&&"increase-btn"==t.target.id?(t.preventDefault(),e=document.querySelector("#number-box").value,e++,document.querySelector("#number-box").value=e):t.target&&"increase-btn"==t.target.id&&e>1&&(n.disabled=!1)})),document.addEventListener("click",(function(t){[].push(document.getElementsByClassName("cart-increase-btn")),t.target.classList.contains("cart-increase-btn")?(t.preventDefault(),console.log(t.target.previousElementSibling.value),e=t.target.previousElementSibling,e.value++,function(t){let e=JSON.parse(localStorage.getItem("products")),n=m(),r=(document.querySelector("#cart-number-input"),t.target.parentElement.parentElement.parentElement.getAttribute("data-id")),c=e.map((t=>t.id)),u=(e.map((t=>t.productPrice)),c.find((t=>t==r))-1),i=(t.target.parentElement.parentElement.querySelector(".cart-item-price").textContent.replace(/\D/g,""),parseInt(o.textContent)),l=(parseInt(a.textContent),i+parseInt(e[u].productPrice)),d=parseInt(e[u].productQuantity)+1;e[u].trueProductPrice=l,e[u].productQuantity=d,Object.assign(e[u],{trueProductPrice:e[u].productPrice*e[u].productQuantity,productQuantity:d}),localStorage.setItem("products",JSON.stringify(e)),console.log(parseInt(e[u].productPrice)),console.table(e),o.textContent=l,g(),console.log(n),console.log(d)}(t)):t.target&&"cart-increase-btn"==t.target.id&&e>1&&(n.disabled=!1)})),function(){JSON.parse(localStorage.getItem("products")),m();const t=document.querySelector("#cart-number-input");m(),t&&g()}(),document.addEventListener("click",(function(t){return e=t.target.nextElementSibling,t.target.classList.contains("cart-decrease-btn")&&e.value>1?(t.preventDefault(),t.target.disabled=!1,e.value--,void d()):t.target.classList.contains("cart-decrease-btn")&&1===e?(t.preventDefault(),void(t.target.disabled=!0)):void 0}))})();
//# sourceMappingURL=shopping-cart.js.map
