const emailInput=document.querySelector("#email-address"),mainPageBg=document.querySelector("#main-page-bg"),payBtn=document.querySelector("#pay-btn"),form=document.querySelector("#checkout-form"),successModalBackHomeBtn=document.querySelector("#success-modal-home-btn"),checkoutHamburgerBtn=document.querySelector("#mobile-menu-btn"),checkoutShoppingCart=document.querySelector("#cart-modal"),checkoutShoppingCartIcon=document.querySelector("#shopping-cart-link");function addToSummaryPanel(){const e=localStorage.getItem("products")?JSON.parse(localStorage.getItem("products")):[],t=document.querySelector("#summary-items-flex-group");for(let o=0;o<e.length;o++)t.innerHTML+=`<section class="summary-items-flex"><img\n    class="summary-item-flex"\n    src="${e[o].imgSrc}"\n    alt="summary-img"\n    srcset=""\n  />\n  \n  <section class="summary-item-title-and-price">\n    <p class="summary-product-name">${e[o].productName}</p>\n    <p class="summary-product-charge-amount">${e[o].productPrice*e[o].productQuantity}</p>\n  </section>\n  \n  <p class="summary-product-count">x${e[o].productQuantity}</p></section>`}function addToSummaryPanelPrices(){const e=document.querySelector("#price-and-label-flex"),t=document.createElement("section"),o=(localStorage.getItem("products")?JSON.parse(localStorage.getItem("products")):[]).map((e=>e.trueProductPrice)).reduce(((e,t)=>e+t),0);t.classList.add("charges-and-prices"),e.innerHTML=`<section class="charges-and-prices">\n    <p class="summary-charges-headings">Total</p>\n    <p class="summary-charges-price" id="summary-total-price">$${o}</p>\n  </section>\n  <section class="charges-and-prices">\n    <p class="summary-charges-headings">Shipping</p>\n    <p class="summary-charges-price">$10</p>\n  </section>\n  <section class="charges-and-prices">\n    <p class="summary-charges-headings">VAT</p>\n    <p class="summary-charges-price">$120</p>\n  </section>\n  <section class="charges-and-prices">\n    <p class="summary-charges-headings">Grand total</p>\n    <p class="summary-charges-price" id="summary-grand-total">$${130+o}</p>\n  </section>`,e.appendChild(t)}function hideEMoneyInputs(){let e=document.querySelector("#e-money-pin"),t=document.querySelector("#e-money-number"),o=document.querySelector('[for="e-money-number"]'),n=document.querySelector('[for="e-money-pin"]'),r=document.querySelector("#cash-on-delivery-info");e.style.display="none",t.style.display="none",o.style.display="none",n.style.display="none",r.style.display="none"}function showOrHideEMoneyInputs(){let e=document.querySelector("#e-money"),t=document.querySelector("#cash-on-delivery"),o=document.querySelector("#e-money-pin"),n=document.querySelector("#e-money-number"),r=document.querySelector('[for="e-money-number"]'),c=document.querySelector('[for="e-money-pin"]'),s=document.querySelector("#cash-on-delivery-info");e.checked?(o.style.display="block",n.style.display="block",r.style.display="block",c.style.display="block",s.style.display="none"):t.checked&&(o.style.display="none",n.style.display="none",r.style.display="none",c.style.display="none",s.style.display="block")}function eMoneyInputNumberValidation(){let e=document.querySelector("#e-money"),t=document.querySelector("#e-money-number");if(e.checked)return 10!=t.value.length?(t.style.borderColor="red",!1):(t.style.borderColor="green",!0)}function eMoneyInputPinValidation(){let e=document.querySelector("#e-money"),t=document.querySelector("#e-money-pin");if(e.checked)return t.value.length<4?(t.style.borderColor="red",!1):(t.style.borderColor="green",!0)}function validateEmptyInputs(e){return""===e.value||null===e.value?(e.style.borderColor="red",!1):(e.style.borderColor="green",!0)}function validateAllInputs(){}function formSubmitValidation(){let e=document.querySelector("#name"),t=document.querySelector("#address"),o=document.querySelector("#city"),n=document.querySelector("#country"),r=document.querySelector("#e-money"),c=document.querySelector("#cash-on-delivery");return console.log(r.checked),!!(r.checked&&validateEmail()&&validatePhoneNum()&&validateEmptyInputs(e)&&validateEmptyInputs(t)&&validateEmptyInputs(o)&&validateEmptyInputs(n)&&zipCodeValidation()&&eMoneyInputNumberValidation()&&!0===eMoneyInputPinValidation())||!!(c.checked&&validateEmail()&&validatePhoneNum()&&validateEmptyInputs(e)&&validateEmptyInputs(t)&&validateEmptyInputs(o)&&validateEmptyInputs(n)&&!0===zipCodeValidation())}function zipCodeValidation(){let e=document.querySelector("#zip-code");return 5!=e.value.length?(e.style.borderColor="red",e.value=e.value.slice(0,e.maxLength),!1):(e.style.borderColor="green",!0)}function numberInputValidation(e,t){return e.value<t||""===e.value||null===e.value?(e.style.borderColor="red",!1):(e.style.borderColor="green",!0)}function validateEmail(){const e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailInput.value),t=document.querySelector("#email-warning-msg");return!0===e?(emailInput.style.borderColor="green",t.style.display="none",!0):(emailInput.style.borderColor="red",t.style.display="block",!1)}function validatePhoneNum(){const e=document.querySelector("#phone-number");return!0===/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/.test(e.value)?(e.style.borderColor="green",!0):(e.style.borderColor="red",!1)}function AddToSuccessModal(){const e=getProductsFromStorage(),t=e.map((e=>e.trueProductPrice)).reduce(((e,t)=>e+t),0),o=document.querySelector("#success-modal-first-item-group"),n=document.querySelector("#grand-total-container");o.innerHTML=`<section id="success-modal-first-item">\n  <img\n    id="success-item-img"\n    src="${e[0].imgSrc}"\n    alt="success-product-image"\n  />\n  <section id="success-item-title-and-price">\n    <h3 class="success-product-name">${e[0].productName}</h3>\n    <p id="succces-modal-item-price">$${e[0].productPrice}</p>\n  </section>\n  <p id="success-item-notification">x ${e[0].productQuantity}</p>\n</section>\n<p id="success-other-items">\n  and <span id="success-other-items-amount">${e.length-1}</span> other item(s)\n</p>\n</section>`,n.innerHTML=`<p id="success-grand-total">Grand total</p>\n<p id="succces-modal-price">$${t}</p>`}showOrHideEMoneyInputs();const openCheckoutMobileMenu=()=>{let e=document.querySelector("#mobile-menu"),t=document.querySelector("#top-nav-bar"),o=document.querySelector("#body-wrapper"),n=window.innerWidth;screen.width<screen.height&&n<=699?(e.style.display="flex",e.style.flexDirection="column",console.log(screen.width<screen.height),console.log(n>=700)):(screen.width,screen.height,e.style.display="flex",e.style.flexDirection="row"),t.classList.add("greyed-out"),o.classList.add("greyed-out")},closeCheckoutMobileMenu=()=>{let e=document.querySelector("#mobile-menu"),t=document.querySelector("#top-nav-bar"),o=document.querySelector("#body-wrapper");e.style.display="none",t.classList.remove("greyed-out"),o.classList.remove("greyed-out")};function openShoppingCartOnCheckoutPage(e){e.preventDefault();let t=document.querySelector("#top-nav-bar"),o=document.querySelector("#body-wrapper");checkoutShoppingCart.classList.contains("closed-cart")?(checkoutShoppingCart.classList.replace("closed-cart","open-cart"),t.classList.add("greyed-out"),o.classList.add("greyed-out")):checkoutShoppingCart.classList.contains("open-cart")&&(checkoutShoppingCart.classList.replace("open-cart","closed-cart"),t.classList.remove("greyed-out"),o.classList.remove("greyed-out"))}function openSuccessModal(){const e=document.querySelector("#success-modal");let t=document.querySelector("#checkout-form");e.classList.replace("closed-modal","open-modal"),t.classList.add("greyed-out"),AddToSuccessModal()}function deleteProductAfterPurchase(){let e=document.querySelectorAll(".cart-item-flex");if(successModalBackHomeBtn){for(i=0;i<e.length;i++)e[i].remove();localStorage.removeItem("products")}let t=getProductsFromStorage().filter((t=>t.id!==parseInt(e.dataset.id)));localStorage.setItem("products",JSON.stringify(t)),updateCartInfo()}function findCartInfo(){let e=getProductsFromStorage();console.table(e);return{total:e.map((e=>e.trueProductPrice)).reduce(((e,t)=>e+t),0),productCount:e.length}}function updateCartInfo(){let e=findCartInfo();""!==e.productCount&&null!==e.productCount&&(cartItemCount.textContent=e.productCount,cartTotalPrice.textContent=e.total)}function loadCart(){let e=getProductsFromStorage();e.length<1?cartItemID=1:(cartItemID=e[e.length-1].id,cartItemID++,e.forEach((e=>addToCartList(e))),updateCartInfo())}checkoutHamburgerBtn.addEventListener("click",(function(){"none"===document.querySelector("#mobile-menu").style.display?openCheckoutMobileMenu():closeCheckoutMobileMenu()})),successModalBackHomeBtn.addEventListener("click",(e=>{let t=e.target.href;e.preventDefault(),deleteProductAfterPurchase(),loadCart(),window.open(t,"_self")})),form.addEventListener("submit",(e=>(e.preventDefault(),console.assert(formSubmitValidation()),!1===formSubmitValidation()?void 0:(openSuccessModal(),!0)))),checkoutShoppingCartIcon.addEventListener("click",openShoppingCartOnCheckoutPage),addToSummaryPanel(),addToSummaryPanelPrices();
//# sourceMappingURL=checkout.875dde0b.js.map
